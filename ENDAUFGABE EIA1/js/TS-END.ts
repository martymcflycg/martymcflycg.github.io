interface Karte {                           //Interface Karten Spieler
    Wert: string;
    Typ: string;
    Reihenfolge: number;
    Rückseite: string;
}

interface KarteComputer {                    //Interface Karten Computer
    Wert: string;
    Typ: string;
    Reihenfolge: number;
    Rückseite: string;
}

//Spieler-Karten generieren//

let Karte1: Karte = {                   //Rote Karten

    Wert: "1",
    Typ: "Red",
    Reihenfolge: 1,
    Rückseite: "normal",

}

let Karte2: Karte = {

    Wert: "2",
    Typ: "Red",
    Reihenfolge: 2,
    Rückseite: "normal",

}

let Karte3: Karte = {

    Wert: "3",
    Typ: "Red",
    Reihenfolge: 3,
    Rückseite: "normal",
}

let Karte4: Karte = {

    Wert: "4",
    Typ: "Red",
    Reihenfolge: 4,
    Rückseite: "normal",
}

let Karte5: Karte = {

    Wert: "5",
    Typ: "Red",
    Reihenfolge: 5,
    Rückseite: "normal",
}

let Karte6: Karte = {

    Wert: "6",
    Typ: "Red",
    Reihenfolge: 6,
    Rückseite: "normal",
}

let Karte7: Karte = {

    Wert: "7",
    Typ: "Red",
    Reihenfolge: 7,
    Rückseite: "normal",
}

let Karte8: Karte = {

    Wert: "8",
    Typ: "Red",
    Reihenfolge: 8,
    Rückseite: "normal",
}


let Karte9: Karte = {

    Wert: "9",
    Typ: "Red",
    Reihenfolge: 9,
    Rückseite: "normal",
}


let Karte10: Karte = {

    Wert: "10",
    Typ: "Red",
    Reihenfolge: 10,
    Rückseite: "normal",
}

let Karte11: Karte = {                  //Gelbe Karten

    Wert: "1",
    Typ: "Gelb",
    Reihenfolge: 11,
    Rückseite: "normal",
}

let Karte12: Karte = {

    Wert: "2",
    Typ: "Gelb",
    Reihenfolge: 12,
    Rückseite: "normal",
}

let Karte13: Karte = {

    Wert: "3",
    Typ: "Gelb",
    Reihenfolge: 13,
    Rückseite: "normal",
}

let Karte14: Karte = {

    Wert: "4",
    Typ: "Gelb",
    Reihenfolge: 14,
    Rückseite: "normal",
}

let Karte15: Karte = {

    Wert: "5",
    Typ: "Gelb",
    Reihenfolge: 15,
    Rückseite: "normal",
}

let Karte16: Karte = {

    Wert: "6",
    Typ: "Gelb",
    Reihenfolge: 16,
    Rückseite: "normal",
}

let Karte17: Karte = {

    Wert: "7",
    Typ: "Gelb",
    Reihenfolge: 17,
    Rückseite: "normal",
}

let Karte18: Karte = {

    Wert: "8",
    Typ: "Gelb",
    Reihenfolge: 18,
    Rückseite: "normal",
}


let Karte19: Karte = {

    Wert: "9",
    Typ: "Gelb",
    Reihenfolge: 19,
    Rückseite: "normal",
}


let Karte20: Karte = {

    Wert: "10",
    Typ: "Gelb",
    Reihenfolge: 20,
    Rückseite: "normal",
}

let Karte21: Karte = {                  //Blaue Karten

    Wert: "1",
    Typ: "Blau",
    Reihenfolge: 21,
    Rückseite: "normal",
}

let Karte22: Karte = {

    Wert: "2",
    Typ: "Blau",
    Reihenfolge: 22,
    Rückseite: "normal",
}

let Karte23: Karte = {

    Wert: "3",
    Typ: "Blau",
    Reihenfolge: 23,

    Rückseite: "normal",
}

let Karte24: Karte = {

    Wert: "4",
    Typ: "Blau",
    Reihenfolge: 24,

    Rückseite: "normal",
}

let Karte25: Karte = {

    Wert: "5",
    Typ: "Blau",
    Reihenfolge: 25,
    Rückseite: "normal",
}

let Karte26: Karte = {

    Wert: "6",
    Typ: "Blau",
    Reihenfolge: 26,

    Rückseite: "normal",
}

let Karte27: Karte = {

    Wert: "7",
    Typ: "Blau",
    Reihenfolge: 27,

    Rückseite: "normal",
}

let Karte28: Karte = {

    Wert: "8",
    Typ: "Blau",
    Reihenfolge: 28,
    Rückseite: "normal",
}


let Karte29: Karte = {

    Wert: "9",
    Typ: "Blau",
    Reihenfolge: 29,
    Rückseite: "normal",
}


let Karte30: Karte = {

    Wert: "10",
    Typ: "Blau",
    Reihenfolge: 30,
    Rückseite: "normal",
}

let Karte31: Karte = {

    Wert: "1",
    Typ: "Green",
    Reihenfolge: 31,
    Rückseite: "normal",
}

let Karte32: Karte = {

    Wert: "2",
    Typ: "Green",
    Reihenfolge: 32,
    Rückseite: "normal",
}

let Karte33: Karte = {

    Wert: "3",
    Typ: "Green",
    Reihenfolge: 33,
    Rückseite: "normal",
}

let Karte34: Karte = {

    Wert: "4",
    Typ: "Green",
    Reihenfolge: 34,
    Rückseite: "normal",
}

let Karte35: Karte = {

    Wert: "5",
    Typ: "Green",
    Reihenfolge: 35,
    Rückseite: "normal",
}

let Karte36: Karte = {

    Wert: "6",
    Typ: "Green",
    Reihenfolge: 36,
    Rückseite: "normal",
}

let Karte37: Karte = {

    Wert: "7",
    Typ: "Green",
    Reihenfolge: 37,
    Rückseite: "normal",
}

let Karte38: Karte = {

    Wert: "8",
    Typ: "Green",
    Reihenfolge: 38,
    Rückseite: "normal",
}


let Karte39: Karte = {

    Wert: "9",
    Typ: "Green",
    Reihenfolge: 39,
    Rückseite: "normal",
}


let Karte40: Karte = {              //Grüne Karten

    Wert: "10",
    Typ: "Green",
    Reihenfolge: 40,
    Rückseite: "normal",
}


//Computer-Karten generieren//

let Karte41: KarteComputer = {          //Rote Karten

    Wert: "1",
    Typ: "Red",
    Reihenfolge: 1,
    Rückseite: "anders",

}

let Karte42: KarteComputer = {

    Wert: "2",
    Typ: "Red",
    Reihenfolge: 2,
    Rückseite: "anders",

}

let Karte43: KarteComputer = {

    Wert: "3",
    Typ: "Red",
    Reihenfolge: 3,
    Rückseite: "anders",

}

let Karte44: KarteComputer = {

    Wert: "4",
    Typ: "Red",
    Reihenfolge: 4,
    Rückseite: "anders",

}

let Karte45: KarteComputer = {

    Wert: "5",
    Typ: "Red",
    Reihenfolge: 5,
    Rückseite: "anders",
}

let Karte46: KarteComputer = {

    Wert: "6",
    Typ: "Red",
    Reihenfolge: 6,
    Rückseite: "anders",
}

let Karte47: KarteComputer = {

    Wert: "7",
    Typ: "Red",
    Reihenfolge: 7,
    Rückseite: "anders",
}

let Karte48: KarteComputer = {

    Wert: "8",
    Typ: "Red",
    Reihenfolge: 8,
    Rückseite: "anders",
}


let Karte49: KarteComputer = {

    Wert: "9",
    Typ: "Red",
    Reihenfolge: 9,
    Rückseite: "anders",
}


let Karte50: KarteComputer = {

    Wert: "10",
    Typ: "Red",
    Reihenfolge: 10,
    Rückseite: "anders",
}


let Karte51: KarteComputer = {          //Gelbe Karten

    Wert: "1",
    Typ: "Gelb",
    Reihenfolge: 11,
    Rückseite: "anders",
}

let Karte52: KarteComputer = {

    Wert: "2",
    Typ: "Gelb",
    Reihenfolge: 12,
    Rückseite: "anders",
}

let Karte53: KarteComputer = {

    Wert: "3",
    Typ: "Gelb",
    Reihenfolge: 13,
    Rückseite: "anders",
}

let Karte54: KarteComputer = {

    Wert: "4",
    Typ: "Gelb",
    Reihenfolge: 14,
    Rückseite: "anders",
}

let Karte55: KarteComputer = {

    Wert: "5",
    Typ: "Gelb",
    Reihenfolge: 15,
    Rückseite: "anders",
}

let Karte56: KarteComputer = {

    Wert: "6",
    Typ: "Gelb",
    Reihenfolge: 16,
    Rückseite: "anders",
}

let Karte57: KarteComputer = {

    Wert: "7",
    Typ: "Gelb",
    Reihenfolge: 17,
    Rückseite: "anders",
}

let Karte58: KarteComputer = {

    Wert: "8",
    Typ: "Gelb",
    Reihenfolge: 18,
    Rückseite: "anders",
}


let Karte59: KarteComputer = {

    Wert: "9",
    Typ: "Gelb",
    Reihenfolge: 19,
    Rückseite: "anders",
}


let Karte60: KarteComputer = {

    Wert: "10",
    Typ: "Gelb",
    Reihenfolge: 20,
    Rückseite: "anders",
}


let Karte61: KarteComputer = {          //Blaue Karten

    Wert: "1",
    Typ: "Blau",
    Reihenfolge: 21,
    Rückseite: "anders",
}

let Karte62: KarteComputer = {

    Wert: "2",
    Typ: "Blau",
    Reihenfolge: 22,
    Rückseite: "anders",
}

let Karte63: KarteComputer = {

    Wert: "3",
    Typ: "Blau",
    Reihenfolge: 23,
    Rückseite: "anders",
}

let Karte64: KarteComputer = {

    Wert: "4",
    Typ: "Blau",
    Reihenfolge: 24,
    Rückseite: "anders",
}

let Karte65: KarteComputer = {

    Wert: "5",
    Typ: "Blau",
    Reihenfolge: 25,
    Rückseite: "anders",
}

let Karte66: KarteComputer = {

    Wert: "6",
    Typ: "Blau",
    Reihenfolge: 26,
    Rückseite: "anders",
}

let Karte67: KarteComputer = {

    Wert: "7",
    Typ: "Blau",
    Reihenfolge: 27,
    Rückseite: "anders",
}

let Karte68: KarteComputer = {

    Wert: "8",
    Typ: "Blau",
    Reihenfolge: 28,
    Rückseite: "anders",
}


let Karte69: KarteComputer = {

    Wert: "9",
    Typ: "Blau",
    Reihenfolge: 29,
    Rückseite: "anders",
}


let Karte70: KarteComputer = {

    Wert: "10",
    Typ: "Blau",
    Reihenfolge: 30,
    Rückseite: "anders",
}


let Karte71: KarteComputer = {          //Grüne Karten

    Wert: "1",
    Typ: "Green",
    Reihenfolge: 31,
    Rückseite: "anders",
}

let Karte72: KarteComputer = {

    Wert: "2",
    Typ: "Green",
    Reihenfolge: 32,
    Rückseite: "anders",
}

let Karte73: KarteComputer = {

    Wert: "3",
    Typ: "Green",
    Reihenfolge: 33,
    Rückseite: "anders",
}

let Karte74: KarteComputer = {

    Wert: "4",
    Typ: "Green",
    Reihenfolge: 34,
    Rückseite: "anders",
}

let Karte75: KarteComputer = {

    Wert: "5",
    Typ: "Green",
    Reihenfolge: 35,
    Rückseite: "anders",
}

let Karte76: KarteComputer = {

    Wert: "6",
    Typ: "Green",
    Reihenfolge: 36,
    Rückseite: "anders",
}

let Karte77: KarteComputer = {

    Wert: "7",
    Typ: "Green",
    Reihenfolge: 37,
    Rückseite: "anders",
}

let Karte78: KarteComputer = {

    Wert: "8",
    Typ: "Green",
    Reihenfolge: 38,
    Rückseite: "anders",
}


let Karte79: KarteComputer = {

    Wert: "9",
    Typ: "Green",
    Reihenfolge: 39,
    Rückseite: "anders",
}


let Karte80: KarteComputer = {

    Wert: "10",
    Typ: "Green",
    Reihenfolge: 40,
    Rückseite: "anders",
}

//Array für Hauptstapel wird erstellt
let kartenStapel: Karte[] = [Karte1, Karte2, Karte3, Karte4, Karte5, Karte6, Karte7, Karte8,
    Karte9, Karte10, Karte11, Karte12, Karte13, Karte14, Karte15, Karte16, Karte17, Karte18,
    Karte19, Karte20, Karte21, Karte22, Karte23, Karte24, Karte25, Karte26, Karte27, Karte28,
    Karte29, Karte30, Karte31, Karte32, Karte33, Karte34, Karte35, Karte36, Karte37, Karte38, Karte39, Karte40];

//Array für Computer-Karten wird erstellt
let gegnerKarten: KarteComputer[] = [Karte41, Karte42, Karte43, Karte44, Karte45, Karte46, Karte47, Karte48,
    Karte49, Karte50, Karte51, Karte52, Karte53, Karte54, Karte55, Karte56, Karte57, Karte58,
    Karte59, Karte60, Karte61, Karte62, Karte63, Karte6, Karte65, Karte66, Karte67, Karte68,
    Karte69, Karte70, Karte71, Karte72, Karte73, Karte74, Karte75, Karte76, Karte77, Karte78, Karte79,];

//Handkarten (Decks)

let kartenHand: Karte[] = [];
let kartenHand1: Karte[] = [];
let compHand: KarteComputer[] = [];
let x: number;
let v: number;
let y: number;
let y6: number;
let ablagestapel: Karte[] = [];


//writehtml1 Funktion
function writeHtml(_y: number) {

    let prodElement2 = document.createElement('div');
    document.getElementById("kartenHand").appendChild(prodElement2);
    let karte: string = `<div class="${kartenHand[_y].Typ}" id="${kartenHand[_y].Reihenfolge}">${kartenHand[_y].Wert}</div>`
    prodElement2.innerHTML = karte;
}

//writehtml2 Funktion
function writeHtml2(_y1: number) {

    let prodElement3 = document.createElement('div');
    document.getElementById("Computer").appendChild(prodElement3);
    let kartennn: string = `<div class="${compHand[_y1].Typ}" id="${compHand[_y1].Reihenfolge}">${compHand[_y1].Wert}</div>`
    prodElement3.innerHTML = kartennn;
}

//Onload-Funktionen
window.onload = function () {
    var randomCard: Karte = kartenStapel[Math.floor((Math.random() * kartenStapel.length))];
    ablagestapel = [randomCard];
    for (let i: number = kartenHand.length; i > 0; i--) {
        document.getElementById("kartenHand").innerHTML = "";
        let pprodElement = document.createElement('div');
        document.getElementById("ablagestapel").appendChild(pprodElement);


        let ablegekarte: string = `<div class="${randomCard.Typ}" id="${randomCard.Reihenfolge}"> ${randomCard.Wert}</div>`
        pprodElement.innerHTML = ablegekarte;



        writeHtml(i);
        writeHtml2(i)

        function Onload2() {
            var randomCard2: KarteComputer = gegnerKarten[Math.floor((Math.random() * gegnerKarten.length))];
            ablagestapel = [randomCard2];
            console.log("bhjbdhjbdjch")
            for (let i: number = compHand.length; i > 0; i++) {
                document.getElementById("Computer").innerHTML = "";
                let pprodElement = document.createElement('div');
                document.getElementById("ablagestapel").appendChild(pprodElement);


                let ablegekarten: string = `<div class="${randomCard2.Typ}" id="${randomCard2.Reihenfolge}"> ${randomCard2.Wert}</div>`
                pprodElement.innerHTML = ablegekarten;
            }
        }
    }
    Onload2()
}

//Karten austeilen Funktion
function Kartenausteilen(): void {

    for (y = 0; y++;) {
        x = Math.floor((Math.random() * kartenStapel.length));
        v = Math.floor((Math.random() * kartenStapel.length));


        kartenHand.push(kartenStapel[x]);
        compHand.push(gegnerKarten[v]);

        writeHtml(y);
        writeHtml2(y)

        kartenStapel.splice(x, 1);
    }
}
Kartenausteilen();

//Karte ziehen
document.getElementById("stapel").addEventListener("click", zieheKarte);

function zieheKarte(): void {

    if (kartenStapel.length > 0) {

        let k: number;
        k = Math.floor((Math.random() * kartenStapel.length));

        let prodElement = document.createElement('div');
        document.getElementById("kartenHand").appendChild(prodElement);

        kartenHand.push(kartenStapel[k]);

        let karteziehen: string = `<div class="${kartenStapel[k].Typ}"> ${kartenStapel[k].Typ} ${kartenStapel[k].Wert} </div>`
        prodElement.innerHTML = karteziehen;

        kartenStapel.splice(k, 1);

        document.getElementById("kartenHand").innerHTML = "";
        for (let v: number = 0; v < kartenHand.length; v++) {
            writeHtml(v);
        }
    }

    else {
        alert("KEINE KARTEN MEHR AUF DEM STAPEL");
    }
}

//Zug (Passende Karte ablegen)
document.getElementById("kartenHand").addEventListener("click", karteAblegen)
function karteAblegen(event: MouseEvent): void {


    let s: number = 0;
    let i: number = 0;

    while (s < kartenHand.length) {

        let karteId: HTMLElement = <HTMLElement>event.target;
        console.log(kartenHand.length)
        if (ablagestapel.length > 3 && kartenHand.length == 0) {
            alert("Du hast gewonnen!");
            console.log("Du hast gewonnen!")
        }
        else if (ablagestapel.length > 3 && compHand.length == 0) {
            alert("Das tut mir Leid! Du hast verloren!");
            console.log("Du hast verloren!")
        }

        if (kartenHand[s].Reihenfolge == Number(karteId.getAttribute("id"))) {
            if (kartenHand[s].Typ == ablagestapel[ablagestapel.length - 1].Typ || kartenHand[s].Wert == ablagestapel[ablagestapel.length - 1].Wert) {
                ablagestapel.push(kartenHand[s]);

                let prodElement = document.createElement('div');
                document.getElementById("ablagestapel").appendChild(prodElement);
                let ablegekarte: string = `<div class="${kartenHand[s].Typ}" id="${kartenHand[s].Reihenfolge}"> ${kartenHand[s].Wert}</div>`
                prodElement.innerHTML = ablegekarte;

                kartenHand.splice(s, 1);
                document.getElementById("kartenHand").innerHTML = "";

                for (let o: number = 0; o < kartenHand.length; o++) {

                    writeHtml(o);
                    VariableX = kartenHand[s]
                }
                computerGegner(VariableX);
            }
            i += 1;
        }

        s++;
    }
}

let VariableX: Karte;

if (kartenHand.length > 0 && ablagestapel.length > 4) {
    alert("Glückwunsch! Du hast gewonnen!");
}

function computerGegner(_meineKarte: Karte) {
    let s: number = 0;
    for (let he: number = 0; he < compHand.length; he++) {
        if (compHand[he].Typ == ablagestapel[ablagestapel.length - 1].Typ || compHand[he].Wert == ablagestapel[ablagestapel.length - 1].Wert) {

            let prodElement = document.createElement('div');
            document.getElementById("ablagestapel").appendChild(prodElement);
            let ablegekarte: string = `<div class="${compHand[he].Typ}" id="${compHand[he].Reihenfolge}"> ${compHand[he].Wert}</div>`
            prodElement.innerHTML = ablegekarte;

            compHand.splice(he, 1);

            var times = 1;
            for (var i = 0; i < times; i++) {
                doSomething();
            }
            function doSomething() {

                document.getElementById("Computer").innerHTML = "";
            }
        }
        writeHtml2(s)
    }
    {
    }
}
